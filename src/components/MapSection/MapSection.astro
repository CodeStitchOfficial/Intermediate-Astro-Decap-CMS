---
import { BUSINESS } from "@data/client";

const addressText = `${BUSINESS.address.lineOne} ${BUSINESS.address.lineTwo} ${BUSINESS.address.city} ${BUSINESS.address.state} ${BUSINESS.address.zip}`.trim();
const mapsEmbedSrc = `https://www.google.com/maps?q=${encodeURIComponent(addressText)}&output=embed`;
---

<section id="map">
	<div class="cs-container">
		<div class="cs-map">
			<iframe
				title="Google Maps"
				src={mapsEmbedSrc}
				loading="lazy"
				referrerpolicy="no-referrer-when-downgrade"
			></iframe>
		</div>
	</div>
</section>

<style lang="less">
	@media only screen and (min-width: 0em) {
		#map {
			padding: var(--sectionPadding);

			.cs-container {
				width: 100%;
				max-width: (1280/16rem);
				margin: auto;
			}

			.cs-content {
				text-align: center;
				max-width: (800/16rem);
				margin: 0 auto (24/16rem);
			}

			.cs-title {
				margin: 0 0 (12/16rem);
			}

			.cs-text {
				margin: 0;
			}

			.cs-link {
				color: var(--primary);
				text-decoration: none;
				font-weight: 600;

				&:hover {
					text-decoration: underline;
				}
			}

			.cs-map {
				width: 100%;
				height: clamp(18rem, 40vw, 28rem);
				border-radius: (5/16em);
				overflow: hidden;
				border: 1px solid rgba(0, 0, 0, 0.12);
				background: #000;
			}

			.cs-map iframe {
				width: 100%;
				height: 100%;
				border: 0;
				display: block;
			}
		}
	}

	@media only screen and (min-width: 64em) {
		#map {
			.cs-content {
				text-align: left;
				max-width: none;
				margin-bottom: (24/16rem);
			}
		}
	}

	@media only screen and (min-width: 0em) {
		body.dark-mode {
			#map {
				.cs-map {
					border-color: rgba(255, 255, 255, 0.14);
				}
			}
		}
	}
</style>

