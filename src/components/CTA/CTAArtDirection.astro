---
/**
 * * Example use case of the CSPicture component if you need to use different images on mobile and desktop, for art direction.
 **/

// Components
import CSPicture from "@components/CSPicture/CSPicture.astro";

// Images
import mobileImage from "@assets/images/CTA/construction-m.jpg";
import desktopImage from "@assets/images/CTA/cabinets2.jpg";
import fallbackImage from "@assets/images/CTA/cabinets2.jpg";
---

<section id="cta">
	<div class="container">
		<h2 class="title">
			Get It Done
			<br />
			With Us Today
		</h2>
		<p>Say something catchy, informative, and encouraging to click the button to go to the contact page. I like to add these to the bottom of all pages.</p>
		<a href="/contact/" class="cs-button-solid">Get an Estimate Now</a>
	</div>
	<CSPicture mobileImgUrl={mobileImage} desktopImgUrl={desktopImage} fallbackImgUrl={fallbackImage} alt="" />
</section>

<style lang="scss">
	@use "sass:math";
	/* Mobile */
	@media only screen and (min-width: 0em) {
		#cta {
			padding: calc(math.div(50, 16) * 1rem) 0;
			position: relative;

			&:before {
				content: "";
				width: 100%;
				height: 100%;
				background: #000;
				opacity: 0.7;
				display: block;
				position: absolute;
				top: 0;
				left: 0;
				z-index: -1;
			}

			.container {
				text-align: center;
			}

			.title {
				font-size: min(9vw, 3rem);
				font-weight: 900;
				line-height: calc(math.div(58, 48));
				text-align: center;
				margin-bottom: calc(math.div(36, 16) * 1rem);
				color: #fff;
				position: relative;
			}

			p {
				text-align: center;
				width: 96%;
				max-width: calc(math.div(598, 16) * 1rem);
				margin: auto;
				margin-bottom: calc(math.div(36, 16) * 1rem);
				color: #fff;
				opacity: 1;
			}

			.cs-picture {
				width: 100%;
				height: 100%;
				object-fit: cover;
				position: absolute;
				top: 0;
				left: 0;
				z-index: -2;

				img {
					width: 100%;
					height: 100%;
					object-fit: cover;
				}
			}
		}
	}

	/* Small Desktop */
	@media only screen and (min-width: 64em) {
		#cta {
			padding: calc(math.div(168, 16) * 1rem) 0;
		}
	}

	/* Large Desktop */
	@media only screen and (min-width: 1300px) {
		#cta {
			margin-top: calc(math.div(100, 16) * 1rem);
			position: relative;
			&:before {
				display: none;
			}
			&:after {
				content: "";
				// width: (math.div(2000, 16) * 1rem);
				width: 100%; /* a fixed width causes overflow on desktop */
				height: calc(math.div(1108, 16) * 1rem);
				background: url("/src/icons/cta-squares.svg");
				background-position: center;
				background-size: contain;
				background-repeat: no-repeat;
				opacity: 1;
				display: block;
				position: absolute;
				bottom: 0;
				left: 50%;
				z-index: -3;
				transform: translateX(-50%);
			}
			.container {
				width: 90.0625%;
				margin: auto;
			}

			.cs-picture {
				width: 90.0625%;
				left: 50%;
				transform: translateX(-50%);
				&:before {
					content: "";
					width: 100%;
					height: 100%;
					background: #000;
					opacity: 0.7;
					display: block;
					position: absolute;
					top: 0;
					left: 0;
					z-index: 1;
				}
			}
		}
	}

	/* Dark Mode */
	@media only screen and (min-width: 0em) {
		body.dark-mode {
			#cta {
				&:after {
					display: none;
				}
			}
		}
	}</style>
